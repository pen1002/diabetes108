<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0f172a">
    <title>ë‹¹ë‡¨ ì™„ì¹˜ í”„ë¡œì íŠ¸ | 3ê°œì›” ê³¨ë“ íƒ€ì„</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Noto Sans KR',sans-serif}
        body{background:linear-gradient(135deg,#0f172a,#1e293b,#0f172a);min-height:100vh;color:#fff}
        .header{position:sticky;top:0;z-index:50;background:rgba(15,23,42,.95);backdrop-filter:blur(12px);border-bottom:1px solid rgba(51,65,85,.5);padding:12px 16px}
        .header-content{max-width:600px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}
        .logo{display:flex;align-items:center;gap:10px}
        .logo-icon{width:36px;height:36px;background:linear-gradient(135deg,#10b981,#14b8a6);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px}
        .logo-text h1{font-size:16px;background:linear-gradient(to right,#10b981,#14b8a6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .logo-text p{font-size:11px;color:#94a3b8}
        .settings-btn{padding:8px;border-radius:8px;background:0 0;border:none;cursor:pointer;color:#94a3b8;font-size:18px}
        .nav{position:sticky;top:61px;z-index:40;background:rgba(15,23,42,.9);backdrop-filter:blur(12px);border-bottom:1px solid rgba(51,65,85,.3);padding:6px 8px;overflow-x:auto}
        .nav::-webkit-scrollbar{display:none}
        .nav-content{max-width:600px;margin:0 auto;display:flex;gap:4px;min-width:max-content}
        .nav-btn{padding:8px 12px;border-radius:8px;border:none;background:0 0;color:#94a3b8;font-size:12px;font-weight:500;cursor:pointer;white-space:nowrap}
        .nav-btn:hover{color:#e2e8f0;background:rgba(51,65,85,.3)}
        .nav-btn.active{background:rgba(16,185,129,.2);color:#10b981}
        .main{max-width:600px;margin:0 auto;padding:16px 12px 100px}
        .tab-content{display:none}
        .tab-content.active{display:block;animation:fadeIn .3s ease}
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        .card{background:rgba(30,41,59,.5);backdrop-filter:blur(8px);border-radius:16px;padding:16px;border:1px solid rgba(51,65,85,.5);margin-bottom:12px}
        .card-title{font-size:14px;font-weight:600;color:#cbd5e1;margin-bottom:12px;display:flex;align-items:center;gap:8px}
        .progress-card{background:linear-gradient(to right,rgba(16,185,129,.1),rgba(20,184,166,.1));border:1px solid rgba(16,185,129,.2)}
        .weight-card{background:linear-gradient(to right,rgba(139,92,246,.1),rgba(168,85,247,.1));border:1px solid rgba(139,92,246,.2)}
        .progress-header{display:flex;justify-content:space-between;margin-bottom:8px}
        .progress-header span{font-size:13px;color:#94a3b8}
        .progress-header strong{color:#10b981}
        .progress-bar{height:10px;background:rgba(51,65,85,.5);border-radius:999px;overflow:hidden}
        .progress-fill{height:100%;border-radius:999px;transition:width 1s ease}
        .progress-fill.green{background:linear-gradient(to right,#10b981,#14b8a6)}
        .progress-fill.purple{background:linear-gradient(to right,#8b5cf6,#a855f7)}
        .progress-footer{display:flex;justify-content:space-between;margin-top:6px;font-size:11px;color:#64748b}
        .stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px}
        .stat-card{background:rgba(30,41,59,.5);border-radius:14px;padding:14px;border:1px solid rgba(51,65,85,.5)}
        .stat-label{font-size:11px;color:#94a3b8;margin-bottom:4px}
        .stat-value{font-size:24px;font-weight:700}
        .stat-value.green{color:#10b981}.stat-value.yellow{color:#f59e0b}.stat-value.red{color:#ef4444}.stat-value.purple{color:#8b5cf6}
        .stat-sub{font-size:11px;color:#64748b;margin-top:2px}
        .advice{padding:12px;border-radius:12px;font-size:13px;margin-bottom:8px;line-height:1.5}
        .advice.warning{background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);color:#fca5a5}
        .advice.caution{background:rgba(245,158,11,.1);border:1px solid rgba(245,158,11,.2);color:#fcd34d}
        .advice.success{background:rgba(16,185,129,.1);border:1px solid rgba(16,185,129,.2);color:#6ee7b7}
        .advice.info{background:rgba(51,65,85,.3);border:1px solid rgba(51,65,85,.5);color:#cbd5e1}
        .form-group{margin-bottom:12px}
        .form-label{display:block;font-size:12px;color:#94a3b8;margin-bottom:6px}
        .form-input{width:100%;background:rgba(51,65,85,.5);border:1px solid rgba(71,85,105,.5);border-radius:10px;padding:10px 14px;color:#fff;font-size:15px;outline:0}
        .form-input:focus{border-color:rgba(16,185,129,.5)}
        .form-input::placeholder{color:#64748b}
        .form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
        .btn-primary{width:100%;padding:14px;border:none;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;background:linear-gradient(to right,#10b981,#14b8a6);color:#fff}
        .btn-secondary{background:rgba(16,185,129,.2);color:#10b981;padding:6px 10px;border:none;border-radius:6px;font-size:11px;cursor:pointer}
        .btn-danger{width:100%;padding:10px;background:0 0;border:none;color:#f87171;font-size:13px;cursor:pointer;margin-top:10px}
        .btn-stop{background:rgba(239,68,68,.2);border:1px solid rgba(239,68,68,.3);color:#f87171}
        .timer-container{display:flex;justify-content:center;margin:20px 0}
        .timer-circle{position:relative;width:220px;height:220px}
        .timer-svg{width:100%;height:100%;transform:rotate(-90deg)}
        .timer-bg{fill:none;stroke:#334155;stroke-width:8}
        .timer-progress{fill:none;stroke:url(#timerGrad);stroke-width:8;stroke-linecap:round}
        .timer-text{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
        .timer-time{font-size:32px;font-weight:700;font-family:monospace}
        .timer-status{font-size:13px;color:#94a3b8;margin-top:6px}
        .timer-remaining{font-size:11px;color:#10b981;margin-top:4px}
        .protocol-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
        .protocol-btn{padding:10px;border-radius:10px;border:1px solid rgba(71,85,105,.5);background:rgba(51,65,85,.3);color:#94a3b8;font-size:13px;font-weight:500;cursor:pointer}
        .protocol-btn.active{background:rgba(16,185,129,.2);color:#10b981;border-color:rgba(16,185,129,.3)}
        .record-item{background:rgba(30,41,59,.5);border-radius:14px;padding:14px;border:1px solid rgba(51,65,85,.5);margin-bottom:10px}
        .record-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
        .record-date{font-size:13px;font-weight:600}
        .record-delete{background:0 0;border:none;color:#64748b;cursor:pointer;font-size:11px}
        .record-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;text-align:center}
        .record-stat{background:rgba(51,65,85,.3);border-radius:8px;padding:8px}
        .record-stat-label{font-size:11px;color:#94a3b8}
        .record-stat-value{font-size:16px;font-weight:700;margin-top:2px}
        .list-item{display:flex;justify-content:space-between;align-items:center;background:rgba(51,65,85,.3);border-radius:8px;padding:8px 12px;margin-bottom:6px}
        .list-item-name{font-size:13px}
        .list-item-detail{font-size:11px;color:#94a3b8}
        .list-item-delete{background:0 0;border:none;color:#64748b;cursor:pointer}
        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(4px);z-index:100;align-items:flex-end;justify-content:center;padding:12px}
        .modal.active{display:flex}
        .modal-content{background:#1e293b;border-radius:20px 20px 0 0;width:100%;max-width:500px;padding:20px;max-height:80vh;overflow-y:auto}
        .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
        .modal-title{font-size:16px;font-weight:700}
        .modal-close{background:0 0;border:none;color:#94a3b8;font-size:18px;cursor:pointer}
        .tip-box{background:linear-gradient(to right,rgba(245,158,11,.1),rgba(249,115,22,.1));border:1px solid rgba(245,158,11,.2);border-radius:14px;padding:14px;margin-bottom:12px}
        .tip-title{font-size:13px;font-weight:600;color:#fcd34d;margin-bottom:8px}
        .tip-list{list-style:none;font-size:12px;color:rgba(254,215,170,.9)}
        .tip-list li{margin-bottom:6px;line-height:1.4}
        .empty-state{text-align:center;padding:40px 0}
        .empty-icon{font-size:40px;margin-bottom:12px}
        .empty-text{color:#94a3b8;font-size:14px}
        .section-title{text-align:center;margin-bottom:20px}
        .section-icon{font-size:36px;margin-bottom:6px}
        .section-name{font-size:18px;font-weight:700}
        .section-date{font-size:13px;color:#94a3b8;margin-top:4px}
        .sub-tabs{display:flex;gap:8px;margin-bottom:16px}
        .sub-tab{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(71,85,105,.5);background:rgba(51,65,85,.3);color:#94a3b8;font-size:12px;font-weight:500;cursor:pointer;text-align:center}
        .sub-tab.active{background:rgba(16,185,129,.2);color:#10b981;border-color:rgba(16,185,129,.3)}
        .recipe-card{background:rgba(30,41,59,.6);border-radius:14px;padding:14px;border:1px solid rgba(51,65,85,.5);margin-bottom:12px}
        .recipe-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}
        .recipe-title{font-size:14px;font-weight:600;color:#e2e8f0}
        .recipe-badge{font-size:10px;padding:3px 8px;border-radius:20px;background:rgba(16,185,129,.2);color:#10b981}
        .recipe-info{font-size:11px;color:#94a3b8;margin-bottom:8px}
        .recipe-ingredients{font-size:12px;color:#cbd5e1;line-height:1.5;margin-bottom:8px}
        .recipe-steps{font-size:12px;color:#94a3b8;line-height:1.6}
        .exercise-card{background:rgba(30,41,59,.6);border-radius:14px;padding:14px;border:1px solid rgba(51,65,85,.5);margin-bottom:12px}
        .exercise-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
        .exercise-title{font-size:14px;font-weight:600;color:#e2e8f0;display:flex;align-items:center;gap:8px}
        .exercise-intensity{font-size:10px;padding:3px 8px;border-radius:20px}
        .exercise-intensity.low{background:rgba(16,185,129,.2);color:#10b981}
        .exercise-intensity.medium{background:rgba(245,158,11,.2);color:#f59e0b}
        .exercise-intensity.high{background:rgba(239,68,68,.2);color:#f87171}
        .exercise-desc{font-size:12px;color:#94a3b8;line-height:1.5;margin-bottom:10px}
        .exercise-benefits{background:rgba(16,185,129,.1);border-radius:8px;padding:10px}
        .exercise-benefits-title{font-size:11px;color:#10b981;font-weight:600;margin-bottom:6px}
        .exercise-benefits-list{font-size:11px;color:#6ee7b7;line-height:1.5}
        .exercise-how{margin-top:10px;font-size:12px;color:#cbd5e1;line-height:1.5}
        .exercise-how strong{color:#f59e0b}
        .chart-container{height:140px;display:flex;align-items:flex-end;justify-content:space-around;padding:10px 0}
        .chart-bar-group{display:flex;flex-direction:column;align-items:center;gap:6px}
        .chart-bars{display:flex;gap:3px;align-items:flex-end;height:100px}
        .chart-bar{width:14px;border-radius:3px 3px 0 0}
        .chart-bar.fasting{background:linear-gradient(to top,rgba(16,185,129,.3),#10b981)}
        .chart-bar.postmeal{background:linear-gradient(to top,rgba(245,158,11,.3),#f59e0b)}
        .chart-label{font-size:10px;color:#64748b}
        .chart-legend{display:flex;justify-content:center;gap:16px;margin-top:8px}
        .chart-legend-item{display:flex;align-items:center;gap:6px;font-size:11px;color:#94a3b8}
        .chart-legend-dot{width:10px;height:10px;border-radius:50%}
        .chart-legend-dot.green{background:#10b981}
        .chart-legend-dot.yellow{background:#f59e0b}
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">ğŸ©º</div>
                <div class="logo-text">
                    <h1>ë‹¹ë‡¨ ì™„ì¹˜ í”„ë¡œì íŠ¸</h1>
                    <p>3ê°œì›” ê³¨ë“ íƒ€ì„ Â· 6kg ê°ëŸ‰</p>
                </div>
            </div>
            <button class="settings-btn" onclick="openModal('profileModal')">âš™ï¸</button>
        </div>
    </header>
    <nav class="nav">
        <div class="nav-content">
            <button class="nav-btn active" data-tab="dashboard">ğŸ“Š ëŒ€ì‹œë³´ë“œ</button>
            <button class="nav-btn" data-tab="record">âœï¸ ê¸°ë¡</button>
            <button class="nav-btn" data-tab="recipe">ğŸ³ ë ˆì‹œí”¼</button>
            <button class="nav-btn" data-tab="exercise">ğŸ’ª ìš´ë™</button>
            <button class="nav-btn" data-tab="fasting">â±ï¸ ë‹¨ì‹</button>
            <button class="nav-btn" data-tab="history">ğŸ“ˆ íˆìŠ¤í† ë¦¬</button>
        </div>
    </nav>
    <main class="main">
        <div id="dashboard" class="tab-content active">
            <div class="card progress-card">
                <div class="progress-header"><span>ğŸ¯ 3ê°œì›” í”„ë¡œê·¸ë¨ ì§„í–‰ë¥ </span><strong id="progressPercent">0%</strong></div>
                <div class="progress-bar"><div class="progress-fill green" id="progressFill" style="width:0"></div></div>
                <div class="progress-footer"><span>ì‹œì‘: <span id="startDateDisplay">-</span></span><span>D+<span id="daysTracked">0</span></span></div>
            </div>
            <div class="card weight-card">
                <div class="progress-header"><span>âš–ï¸ 6kg ê°ëŸ‰ ëª©í‘œ</span><strong id="weightLossPercent" style="color:#a855f7">0%</strong></div>
                <div class="progress-bar"><div class="progress-fill purple" id="weightLossFill" style="width:0"></div></div>
                <div class="progress-footer"><span>ì‹œì‘: <span id="startWeightDisplay">-</span>kg</span><span>í˜„ì¬: <span id="currentWeightDisplay">-</span>kg â†’ ëª©í‘œ: <span id="targetWeightDisplay">-</span>kg</span></div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-label">ì¶”ì • ë‹¹í™”í˜ˆìƒ‰ì†Œ</div><div class="stat-value" id="hba1cValue">--</div><div class="stat-sub">ëª©í‘œ: 5.7% ë¯¸ë§Œ</div></div>
                <div class="stat-card"><div class="stat-label">ì—°ì† ê¸°ë¡</div><div class="stat-value yellow" id="streakValue">0ì¼ ğŸ”¥</div><div class="stat-sub">ì´ <span id="totalDays">0</span>ì¼</div></div>
                <div class="stat-card"><div class="stat-label">í‰ê·  ê³µë³µí˜ˆë‹¹</div><div class="stat-value" id="avgFastingValue">--</div><div class="stat-sub">ëª©í‘œ: 100 ë¯¸ë§Œ</div></div>
                <div class="stat-card"><div class="stat-label">ê°ëŸ‰ í˜„í™©</div><div class="stat-value purple" id="weightChangeValue">--</div><div class="stat-sub">ì£¼ 0.5kg ê¶Œì¥</div></div>
            </div>
            <div class="card" id="chartCard" style="display:none"><div class="card-title">ğŸ“ˆ ìµœê·¼ 7ì¼ í˜ˆë‹¹</div><div class="chart-container" id="chartContainer"></div><div class="chart-legend"><div class="chart-legend-item"><div class="chart-legend-dot green"></div>ê³µë³µ</div><div class="chart-legend-item"><div class="chart-legend-dot yellow"></div>ì‹í›„</div></div></div>
            <div class="card"><div class="card-title">ğŸ¤– AI ì „ë¬¸ì˜ ì½”ì¹˜</div><div id="adviceContainer"></div></div>
        </div>

        <div id="record" class="tab-content">
            <div class="section-title"><div class="section-icon">ğŸ“</div><div class="section-name">ì˜¤ëŠ˜ì˜ ê¸°ë¡</div><div class="section-date" id="todayDate"></div></div>
            <div class="card"><div class="card-title">ğŸ©¸ í˜ˆë‹¹ ìˆ˜ì¹˜</div><div class="form-row"><div class="form-group"><label class="form-label">ê³µë³µ í˜ˆë‹¹ (mg/dL)</label><input type="number" class="form-input" id="fastingInput" placeholder="ì˜ˆ: 105"></div><div class="form-group"><label class="form-label">ì‹í›„ 2ì‹œê°„</label><input type="number" class="form-input" id="postMealInput" placeholder="ì˜ˆ: 140"></div></div></div>
            <div class="card"><div class="card-title">âš–ï¸ ì²´ì¤‘</div><div class="form-row"><div class="form-group"><label class="form-label">ì˜¤ëŠ˜ ì²´ì¤‘ (kg)</label><input type="number" step="0.1" class="form-input" id="weightInput" placeholder="ì˜ˆ: 72.5"></div><div class="form-group"><label class="form-label">BMI</label><div class="form-input" id="bmiDisplay" style="display:flex;align-items:center;justify-content:center;font-weight:700">--</div></div></div></div>
            <div class="card"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px"><span class="card-title" style="margin:0">ğŸ½ï¸ ì‹ë‹¨</span><button class="btn-secondary" onclick="openModal('mealModal')">+ ì¶”ê°€</button></div><div id="mealsList"><p style="text-align:center;color:#64748b;padding:12px;font-size:13px">ê¸°ë¡ëœ ì‹ë‹¨ì´ ì—†ìŠµë‹ˆë‹¤</p></div></div>
            <div class="card"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px"><span class="card-title" style="margin:0">ğŸƒ ìš´ë™</span><button class="btn-secondary" onclick="openModal('exerciseModal')">+ ì¶”ê°€</button></div><div id="exercisesList"><p style="text-align:center;color:#64748b;padding:12px;font-size:13px">ê¸°ë¡ëœ ìš´ë™ì´ ì—†ìŠµë‹ˆë‹¤</p></div></div>
            <div class="card"><div class="card-title">ğŸ“‹ ë©”ëª¨</div><textarea class="form-input" id="notesInput" rows="2" placeholder="ì»¨ë””ì…˜, íŠ¹ì´ì‚¬í•­..."></textarea></div>
            <button class="btn-primary" onclick="saveTodayRecord()">ì˜¤ëŠ˜ì˜ ê¸°ë¡ ì €ì¥ âœ“</button>
        </div>

        <div id="recipe" class="tab-content">
            <div class="section-title"><div class="section-icon">ğŸ³</div><div class="section-name">ë‹¹ë‡¨ ë§ì¶¤ ë ˆì‹œí”¼</div><div class="section-date">ì €íƒ„ê³ ë‹¨ Â· í˜ˆë‹¹ ì•ˆì •</div></div>
            <div class="sub-tabs" id="recipeSubTabs"><button class="sub-tab active" data-subtab="breakfast">ğŸŒ… ì•„ì¹¨</button><button class="sub-tab" data-subtab="dinner">ğŸŒ™ ì €ë…</button><button class="sub-tab" data-subtab="snack">ğŸ¥— ê°„ì‹</button></div>
            <div id="breakfast" class="recipe-subtab">
                <div class="tip-box"><div class="tip-title">ğŸ’¡ 16:8 ë‹¨ì‹ ì•„ì¹¨ ì›ì¹™</div><ul class="tip-list"><li>â€¢ ì²« ì‹ì‚¬ëŠ” <strong>ì •ì˜¤~ì˜¤í›„1ì‹œ</strong> ì‹œì‘</li><li>â€¢ ë‹¨ë°±ì§ˆ 20g ì´ìƒ í•„ìˆ˜ (ê·¼ì†ì‹¤ ë°©ì§€)</li><li>â€¢ ìˆœì„œ: ì±„ì†Œ â†’ ë‹¨ë°±ì§ˆ â†’ íƒ„ìˆ˜í™”ë¬¼</li></ul></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">1. ì–‘ë°°ì¶” ë‘ë¶€ ìŠ¤í¬ë¨ë¸”</div><span class="recipe-badge">GI 25</span></div><div class="recipe-info">â±ï¸ 10ë¶„ | ğŸ”¥ 180kcal | ë‹¨ë°±ì§ˆ 15g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ì–‘ë°°ì¶” 100g, ë‘ë¶€ ë°˜ëª¨, ê³„ë€ 1ê°œ, ì˜¬ë¦¬ë¸Œì˜¤ì¼</div><div class="recipe-steps">1. ì–‘ë°°ì¶” ì±„ ì°ì–´ ì „ìë ˆì¸ì§€ 2ë¶„<br>2. ë‘ë¶€ ìœ¼ê¹¨ê³  ê³„ë€ê³¼ í•¨ê»˜ ë³¶ê¸°<br>3. ì–‘ë°°ì¶” ë„£ê³  ì†Œê¸ˆ ê°„</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">2. ê³„ë€ ì–‘ë°°ì¶” ë¡¤</div><span class="recipe-badge">GI 20</span></div><div class="recipe-info">â±ï¸ 15ë¶„ | ğŸ”¥ 220kcal | ë‹¨ë°±ì§ˆ 18g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ê³„ë€ 2ê°œ, ì–‘ë°°ì¶”ì 3ì¥, ë‹¹ê·¼ 30g</div><div class="recipe-steps">1. ì–‘ë°°ì¶”ì ë°ì¹˜ê¸°<br>2. ê³„ë€ ì§€ë‹¨ ë¶€ì¹˜ê¸°<br>3. ëŒëŒ ë§ì•„ì„œ í•œì… í¬ê¸°ë¡œ</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">3. ë‘ë¶€ ì–‘ë°°ì¶” ëœì¥êµ­</div><span class="recipe-badge">GI 30</span></div><div class="recipe-info">â±ï¸ 15ë¶„ | ğŸ”¥ 120kcal | ë‹¨ë°±ì§ˆ 12g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ë‘ë¶€ ë°˜ëª¨, ì–‘ë°°ì¶” 80g, ëœì¥ 1í°ìˆ </div><div class="recipe-steps">1. ë¬¼ ë“ì´ê³  ëœì¥ í’€ê¸°<br>2. ì–‘ë°°ì¶”, ë‘ë¶€ ë„£ê³  5ë¶„<br>3. ëŒ€íŒŒ ì†¡ì†¡ ë§ˆë¬´ë¦¬</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">4. ì–‘ë°°ì¶” ê³„ë€ì°œ</div><span class="recipe-badge">GI 25</span></div><div class="recipe-info">â±ï¸ 12ë¶„ | ğŸ”¥ 150kcal | ë‹¨ë°±ì§ˆ 14g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ê³„ë€ 2ê°œ, ë‹¤ì§„ ì–‘ë°°ì¶” 50g, ë¬¼ 3í°ìˆ </div><div class="recipe-steps">1. ê³„ë€+ë¬¼+ì†Œê¸ˆ í’€ê¸°<br>2. ë‹¤ì§„ ì–‘ë°°ì¶” ì„ê¸°<br>3. ëšœê»‘ ë®ê³  ì•½ë¶ˆ 8ë¶„</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">5. ë‘ë¶€ ìŠ¤í…Œì´í¬ + ìƒëŸ¬ë“œ</div><span class="recipe-badge">GI 22</span></div><div class="recipe-info">â±ï¸ 15ë¶„ | ğŸ”¥ 250kcal | ë‹¨ë°±ì§ˆ 20g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ë‘ë¶€ 1ëª¨, ì–‘ë°°ì¶” 100g, ê°„ì¥, ë ˆëª¬ì¦™</div><div class="recipe-steps">1. ë‘ë¶€ ë…¸ë¦‡í•˜ê²Œ êµ¬ì›Œ ê°„ì¥ ì¡¸ì´ê¸°<br>2. ì–‘ë°°ì¶” ì±„ ì°ì–´ ë ˆëª¬ ë“œë ˆì‹±<br>3. í•¨ê»˜ í”Œë ˆì´íŒ…</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">6. ì–‘ë°°ì¶” ë‘ë¶€ ì „</div><span class="recipe-badge">GI 28</span></div><div class="recipe-info">â±ï¸ 20ë¶„ | ğŸ”¥ 200kcal | ë‹¨ë°±ì§ˆ 16g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ë‘ë¶€ ë°˜ëª¨, ì–‘ë°°ì¶” 80g, ê³„ë€ 1ê°œ, í†µë°€ê°€ë£¨</div><div class="recipe-steps">1. ë‘ë¶€ ìœ¼ê¹¨ê³  ì–‘ë°°ì¶” ë‹¤ì§€ê¸°<br>2. ê³„ë€, í†µë°€ê°€ë£¨ ë„£ì–´ ë°˜ì£½<br>3. í•œ ìŠ¤í‘¼ì”© ë…¸ë¦‡í•˜ê²Œ</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">7. ê³„ë€ í°ì ì˜¤ë¯ˆë ›</div><span class="recipe-badge">GI 15</span></div><div class="recipe-info">â±ï¸ 10ë¶„ | ğŸ”¥ 130kcal | ë‹¨ë°±ì§ˆ 18g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ê³„ë€ í°ì 4ê°œ, ì–‘ë°°ì¶” 60g, íŒŒí”„ë¦¬ì¹´</div><div class="recipe-steps">1. ì±„ì†Œ ì˜ê²Œ ë‹¤ì§€ê¸°<br>2. í°ìì— ì„ì–´ ì–‡ê²Œ í´ê¸°<br>3. ë°˜ìœ¼ë¡œ ì ‘ì–´ ì™„ì„±</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">8. ì–‘ë°°ì¶” ë‘ë¶€ ë¬´ì¹¨</div><span class="recipe-badge">GI 18</span></div><div class="recipe-info">â±ï¸ 8ë¶„ | ğŸ”¥ 140kcal | ë‹¨ë°±ì§ˆ 12g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ì–‘ë°°ì¶” 100g, ë‘ë¶€ ë°˜ëª¨, ì°¸ê¸°ë¦„, ê¹¨</div><div class="recipe-steps">1. ì–‘ë°°ì¶” ì±„ ì°ì–´ ì†Œê¸ˆ ì ˆì´ê¸°<br>2. ë‘ë¶€ ìœ¼ê¹¨ì„œ ì„ê¸°<br>3. ì°¸ê¸°ë¦„, ê¹¨ë¡œ ë¬´ì¹˜ê¸°</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">9. ë‘ë¶€ ê³„ë€ ì°œ</div><span class="recipe-badge">GI 20</span></div><div class="recipe-info">â±ï¸ 15ë¶„ | ğŸ”¥ 190kcal | ë‹¨ë°±ì§ˆ 22g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ë‘ë¶€ ë°˜ëª¨, ê³„ë€ 2ê°œ, ìƒˆìš°ì “</div><div class="recipe-steps">1. ë‘ë¶€ ìœ¼ê¹¨ê³  ê³„ë€ê³¼ ì„ê¸°<br>2. ìƒˆìš°ì “ìœ¼ë¡œ ê°„<br>3. ì°œê¸°ì—ì„œ 12ë¶„</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">10. ì–‘ë°°ì¶” ìŒˆ + ë‘ë¶€ ì†</div><span class="recipe-badge">GI 15</span></div><div class="recipe-info">â±ï¸ 12ë¶„ | ğŸ”¥ 170kcal | ë‹¨ë°±ì§ˆ 14g</div><div class="recipe-ingredients"><strong>ì¬ë£Œ:</strong> ì–‘ë°°ì¶”ì 5ì¥, ë‘ë¶€ ë°˜ëª¨, ë‹¹ê·¼, ìŒˆì¥</div><div class="recipe-steps">1. ì–‘ë°°ì¶”ì ë°ì¹˜ê¸°<br>2. ë‘ë¶€, ë‹¹ê·¼ ë³¶ê¸°<br>3. ìŒˆ ì‹¸ì„œ ìŒˆì¥ê³¼ í•¨ê»˜</div></div>
            </div>
            <div id="dinner" class="recipe-subtab" style="display:none">
                <div class="tip-box"><div class="tip-title">ğŸŒ™ ì €ë… ì›ì¹™ (ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ)</div><ul class="tip-list"><li>â€¢ ë§ˆì§€ë§‰ ì‹ì‚¬ <strong>ì €ë… 8ì‹œ ì´ì „</strong></li><li>â€¢ íƒ„ìˆ˜í™”ë¬¼ì€ ë°˜ ê³µê¸°ë§Œ</li><li>â€¢ ìˆœì„œë§Œ ì§€í‚¤ë©´ ììœ ë¡­ê²Œ!</li></ul></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">ììœ  ì €ë… ê°€ì´ë“œ</div><span class="recipe-badge" style="background:rgba(245,158,11,.2);color:#f59e0b">ìœ ì—°ì‹</span></div><div class="recipe-steps" style="line-height:1.8"><strong style="color:#10b981">âœ… ë§ˆìŒê»:</strong> êµ¬ìš´ ê³ ê¸°, ìƒì„ , ìŒˆì±„ì†Œ, ì°Œê°œ<br><br><strong style="color:#f59e0b">âš ï¸ ì ˆë°˜ë§Œ:</strong> ë°¥ ë°˜ ê³µê¸°, ë©´ë¥˜<br><br><strong style="color:#ef4444">âŒ í”¼í•  ê²ƒ:</strong> íƒ„ì‚°ìŒë£Œ, ë¹µ, íŠ€ê¹€</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">ì¶”ì²œ: ì‚¼ê²¹ì‚´ + ìŒˆ</div><span class="recipe-badge" style="background:rgba(245,158,11,.2);color:#f59e0b">GI 45</span></div><div class="recipe-info">ğŸ”¥ 500kcal | ë‹¨ë°±ì§ˆ 30g</div><div class="recipe-steps">ì‚¼ê²¹ì‚´ 200g + ìƒì¶”/ê¹»ì ë¬´í•œ<br>ë°¥ì€ ë°˜ ê³µê¸° ë˜ëŠ” ìƒëµ<br><strong>ì‹í›„ 10ë¶„ ì‚°ì±… í•„ìˆ˜!</strong></div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">ì¶”ì²œ: ëœì¥ì°Œê°œ ì •ì‹</div><span class="recipe-badge" style="background:rgba(245,158,11,.2);color:#f59e0b">GI 50</span></div><div class="recipe-info">ğŸ”¥ 400kcal | ë‹¨ë°±ì§ˆ 25g</div><div class="recipe-steps">ëœì¥ì°Œê°œ + ê³„ë€í›„ë¼ì´ + ë‚˜ë¬¼ 2ê°€ì§€<br>í˜„ë¯¸ë°¥ ë°˜ ê³µê¸°</div></div>
            </div>
            <div id="snack" class="recipe-subtab" style="display:none">
                <div class="tip-box"><div class="tip-title">ğŸ¥œ í—ˆìš© ê°„ì‹ (í•˜ë£¨ 1íšŒ)</div><ul class="tip-list"><li>â€¢ ë‹¨ì‹ ì‹œê°„ì—ëŠ” ì„­ì·¨ ë¶ˆê°€!</li><li>â€¢ 150kcal ì´ë‚´</li></ul></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">ê²¬ê³¼ë¥˜ í•œ ì¤Œ</div><span class="recipe-badge">GI 15</span></div><div class="recipe-info">ğŸ”¥ 100kcal | 20g</div><div class="recipe-steps">í˜¸ë‘ 5ì•Œ ë˜ëŠ” ì•„ëª¬ë“œ 15ì•Œ<br>í˜ˆë‹¹ ì˜í–¥ ê±°ì˜ ì—†ìŒ</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">ì‚¶ì€ ê³„ë€</div><span class="recipe-badge">GI 0</span></div><div class="recipe-info">ğŸ”¥ 80kcal | ë‹¨ë°±ì§ˆ 7g</div><div class="recipe-steps">í˜ˆë‹¹ ìƒìŠ¹ ì œë¡œ!<br>ì™„ë²½í•œ ë‹¹ë‡¨ ê°„ì‹</div></div>
                <div class="recipe-card"><div class="recipe-header"><div class="recipe-title">ê·¸ë¦­ìš”ê±°íŠ¸ (ë¬´ê°€ë‹¹)</div><span class="recipe-badge">GI 11</span></div><div class="recipe-info">ğŸ”¥ 100kcal | ë‹¨ë°±ì§ˆ 10g</div><div class="recipe-steps">ê²¬ê³¼ë¥˜ë‚˜ ì‹œë‚˜ëª¬ ì¶”ê°€ ì¶”ì²œ</div></div>
            </div>
        </div>

        <div id="exercise" class="tab-content">
            <div class="section-title"><div class="section-icon">ğŸ’ª</div><div class="section-name">ë‹¹ë‡¨ ë§ì¶¤ ìš´ë™ë²•</div><div class="section-date">í˜ˆë‹¹ ì¡°ì ˆ + ê·¼ìœ¡ ì €ì¶•</div></div>
            <div class="tip-box"><div class="tip-title">ğŸ¥ ì „ë¬¸ì˜ ìš´ë™ ì›ì¹™</div><ul class="tip-list"><li>â€¢ <strong>ê·¼ìœ¡ = í˜ˆë‹¹ ì†Œë¹„ ê³µì¥</strong></li><li>â€¢ ì‹í›„ 30ë¶„ ë‚´ ìš´ë™ â†’ ìŠ¤íŒŒì´í¬ 50%â†“</li><li>â€¢ ì£¼ 5ì¼, í•˜ë£¨ 30ë¶„ ì´ìƒ</li></ul></div>
            <div class="exercise-card"><div class="exercise-header"><div class="exercise-title">ğŸš¶ 1. ì‹í›„ ê±·ê¸°</div><span class="exercise-intensity low">ì €ê°•ë„</span></div><div class="exercise-desc">ê°€ì¥ ì‰½ê³  íš¨ê³¼ì ! ì‹ì‚¬ ì§í›„ 10-15ë¶„ë§Œ ê±¸ì–´ë„ í˜ˆë‹¹ ìŠ¤íŒŒì´í¬ 30-50% ê°ì†Œ</div><div class="exercise-benefits"><div class="exercise-benefits-title">âœ¨ íš¨ê³¼</div><div class="exercise-benefits-list">â€¢ ì‹í›„ í˜ˆë‹¹ ê¸‰ìƒìŠ¹ ë°©ì§€<br>â€¢ ì†Œí™” ì´‰ì§„, ì¸ìŠë¦° ë¯¼ê°ë„â†‘</div></div><div class="exercise-how"><strong>ì²˜ë°©:</strong> ë§¤ ì‹ì‚¬ í›„ 10-15ë¶„, í¸ì•ˆí•œ ì†ë„<br><strong>ê°•ë„:</strong> ëŒ€í™” ê°€ëŠ¥í•œ ì •ë„</div></div>
            <div class="exercise-card"><div class="exercise-header"><div class="exercise-title">ğŸƒ 2. ë¹ ë¥¸ ê±·ê¸°</div><span class="exercise-intensity medium">ì¤‘ê°•ë„</span></div><div class="exercise-desc">ì¹¼ë¡œë¦¬ ì†Œëª¨ 2ë°°, ì‹¬í ê¸°ëŠ¥ í–¥ìƒ. íŒ” í¬ê²Œ í”ë“¤ë©° ë³´í­ ë„“ê²Œ!</div><div class="exercise-benefits"><div class="exercise-benefits-title">âœ¨ íš¨ê³¼</div><div class="exercise-benefits-list">â€¢ ë‚´ì¥ì§€ë°© ê°ì†Œ<br>â€¢ ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ ì¦ê°€</div></div><div class="exercise-how"><strong>ì²˜ë°©:</strong> ì£¼ 5ì¼, 30-40ë¶„<br><strong>ì†ë„:</strong> ì‹œì† 5.5-6.5km</div></div>
            <div class="exercise-card"><div class="exercise-header"><div class="exercise-title">ğŸ¦µ 3. ìŠ¤ì¿¼íŠ¸ & ëŸ°ì§€</div><span class="exercise-intensity medium">ì¤‘ê°•ë„</span></div><div class="exercise-desc">í•˜ì²´ ëŒ€ê·¼ìœ¡ ì‚¬ìš© = í˜ˆë‹¹ ì†Œë¹„â†‘. ê·¼ìœ¡ëŸ‰ì´ ëŠ˜ë©´ í‰ì†Œì—ë„ í˜ˆë‹¹â†“</div><div class="exercise-benefits"><div class="exercise-benefits-title">âœ¨ íš¨ê³¼</div><div class="exercise-benefits-list">â€¢ ê·¼ìœ¡ëŸ‰â†‘ â†’ í˜ˆë‹¹ í¡ìˆ˜â†‘<br>â€¢ ì¸ìŠë¦° ì €í•­ì„± ê°œì„ </div></div><div class="exercise-how"><strong>ì²˜ë°©:</strong> ì£¼ 3-4ì¼, 15íšŒ Ã— 3ì„¸íŠ¸<br><strong>íœ´ì‹:</strong> ì„¸íŠ¸ ì‚¬ì´ 60ì´ˆ</div></div>
            <div class="exercise-card"><div class="exercise-header"><div class="exercise-title">ğŸ‹ï¸ 4. ë¤ë²¨/ë°´ë“œ ìš´ë™</div><span class="exercise-intensity high">ì¤‘-ê³ ê°•ë„</span></div><div class="exercise-desc">ì „ì‹  ê·¼ìœ¡ì„ í‚¤ì›Œ 'í˜ˆë‹¹ ì†Œë¹„ ê³µì¥' í™•ì¥. ì§‘ì—ì„œ ê°€ëŠ¥!</div><div class="exercise-benefits"><div class="exercise-benefits-title">âœ¨ íš¨ê³¼</div><div class="exercise-benefits-list">â€¢ 24ì‹œê°„ í˜ˆë‹¹ ì¡°ì ˆâ†‘<br>â€¢ ê·¼ì†ì‹¤ ë°©ì§€ (ë‹¨ì‹ ì¤‘ í•„ìˆ˜!)</div></div><div class="exercise-how"><strong>ì²˜ë°©:</strong> ì£¼ 3ì¼, 30-40ë¶„<br>ë¤ë²¨ ìˆ„ë”í”„ë ˆìŠ¤, ë¡œìš°, ë°ë“œë¦¬í”„íŠ¸ 12íšŒÃ—3ì„¸íŠ¸</div></div>
            <div class="exercise-card"><div class="exercise-header"><div class="exercise-title">âš¡ 5. ì¸í„°ë²Œ íŠ¸ë ˆì´ë‹</div><span class="exercise-intensity high">ê³ ê°•ë„</span></div><div class="exercise-desc">ì§§ì€ ì‹œê°„ ìµœëŒ€ íš¨ê³¼! 15ë¶„ìœ¼ë¡œ 30ë¶„ ìœ ì‚°ì†Œ íš¨ê³¼</div><div class="exercise-benefits"><div class="exercise-benefits-title">âœ¨ íš¨ê³¼</div><div class="exercise-benefits-list">â€¢ ìš´ë™ í›„ 24ì‹œê°„ ì§€ë°© ì—°ì†Œ<br>â€¢ ë‚´ì¥ì§€ë°© ê°ì†Œì— íƒì›”</div></div><div class="exercise-how"><strong>ì²˜ë°©:</strong> ì£¼ 2-3ì¼, 15-20ë¶„<br><strong>ë°©ë²•:</strong> 30ì´ˆ ì „ë ¥ â†’ 30ì´ˆ íœ´ì‹ Ã— 10íšŒ<br><strong>âš ï¸ ì£¼ì˜:</strong> ì´ˆë³´ì 2ì£¼ í›„ ì‹œì‘, ì €í˜ˆë‹¹ ì£¼ì˜</div></div>
            <div class="card" style="background:linear-gradient(to right,rgba(239,68,68,.1),rgba(245,158,11,.1));border-color:rgba(239,68,68,.2)"><div class="card-title" style="color:#fca5a5">âš ï¸ ìš´ë™ ì£¼ì˜ì‚¬í•­</div><div style="font-size:12px;color:#fcd34d;line-height:1.6">â€¢ ê³µë³µ í˜ˆë‹¹ 250+ ì‹œ ìš´ë™ ê¸ˆì§€ â†’ ë³‘ì›<br>â€¢ ì €í˜ˆë‹¹ ì¦ìƒ(ë–¨ë¦¼, ì‹ì€ë•€) ì‹œ ë‹¹ë¶„ ì„­ì·¨<br>â€¢ ë°œì— ìƒì²˜ ìˆìœ¼ë©´ ìˆ˜ì˜ ê¶Œì¥</div></div>
        </div>

        <div id="fasting" class="tab-content">
            <div class="section-title"><div class="section-icon">â±ï¸</div><div class="section-name">ê°„í—ì  ë‹¨ì‹ íƒ€ì´ë¨¸</div><div class="section-date" id="protocolDisplay">16:8 í”„ë¡œí† ì½œ</div></div>
            <div class="timer-container"><div class="timer-circle"><svg class="timer-svg" viewBox="0 0 256 256"><defs><linearGradient id="timerGrad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#10b981"/><stop offset="100%" stop-color="#14b8a6"/></linearGradient></defs><circle class="timer-bg" cx="128" cy="128" r="110"/><circle class="timer-progress" id="timerProgress" cx="128" cy="128" r="110" stroke-dasharray="691.15" stroke-dashoffset="691.15"/></svg><div class="timer-text"><div class="timer-time" id="timerDisplay">00:00:00</div><div class="timer-status" id="timerStatus">ëŒ€ê¸° ì¤‘</div><div class="timer-remaining" id="timerRemaining"></div></div></div></div>
            <button class="btn-primary" id="fastingBtn" onclick="toggleFasting()">â±ï¸ ë‹¨ì‹ ì‹œì‘í•˜ê¸°</button>
            <div class="card" style="margin-top:16px"><div class="card-title">í”„ë¡œí† ì½œ ì„ íƒ</div><div class="protocol-grid" id="protocolBtns"><button class="protocol-btn" data-protocol="14:10">14:10</button><button class="protocol-btn active" data-protocol="16:8">16:8</button><button class="protocol-btn" data-protocol="18:6">18:6</button></div><p style="font-size:11px;color:#64748b;text-align:center;margin-top:10px" id="protocolDesc">16ì‹œê°„ ë‹¨ì‹, 8ì‹œê°„ ì‹ì‚¬ (ê¶Œì¥)</p></div>
            <div class="tip-box"><div class="tip-title">ğŸ’¡ ë‹¨ì‹ ì¤‘ í—ˆìš© ìŒë£Œ</div><ul class="tip-list"><li>âœ… ë¬¼, ë¸”ë™ì»¤í”¼, ë¬´ê°€ë‹¹ ì°¨</li><li>âŒ ê³¼ì¼ì£¼ìŠ¤, ìš°ìœ , ìŒë£Œìˆ˜</li></ul></div>
        </div>

        <div id="history" class="tab-content">
            <div class="section-title"><div class="section-icon">ğŸ“ˆ</div><div class="section-name">ê¸°ë¡ íˆìŠ¤í† ë¦¬</div><div class="section-date">ì´ <span id="historyCount">0</span>ì¼</div></div>
            <div id="historyList"></div>
        </div>
    </main>

    <div class="modal" id="mealModal"><div class="modal-content"><div class="modal-header"><div class="modal-title">ì‹ì‚¬ ì¶”ê°€</div><button class="modal-close" onclick="closeModal('mealModal')">âœ•</button></div><div class="form-group"><label class="form-label">ìŒì‹ ì´ë¦„</label><input type="text" class="form-input" id="mealName" placeholder="ì˜ˆ: ì–‘ë°°ì¶” ë‘ë¶€ ìŠ¤í¬ë¨ë¸”"></div><div class="form-row"><div class="form-group"><label class="form-label">ì¹¼ë¡œë¦¬</label><input type="number" class="form-input" id="mealCalories" placeholder="200"></div><div class="form-group"><label class="form-label">íƒ„ìˆ˜í™”ë¬¼(g)</label><input type="number" class="form-input" id="mealCarbs" placeholder="15"></div></div><button class="btn-primary" onclick="addMeal()">ì¶”ê°€</button></div></div>
    <div class="modal" id="exerciseModal"><div class="modal-content"><div class="modal-header"><div class="modal-title">ìš´ë™ ì¶”ê°€</div><button class="modal-close" onclick="closeModal('exerciseModal')">âœ•</button></div><div class="form-group"><label class="form-label">ìš´ë™ ì¢…ë¥˜</label><input type="text" class="form-input" id="exerciseType" placeholder="ì˜ˆ: ì‹í›„ ê±·ê¸°"></div><div class="form-group"><label class="form-label">ì‹œê°„ (ë¶„)</label><input type="number" class="form-input" id="exerciseDuration" placeholder="30"></div><div class="form-group"><label class="form-label">ê°•ë„</label><div class="protocol-grid" id="intensityBtns"><button class="protocol-btn" data-intensity="low">ì €</button><button class="protocol-btn active" data-intensity="moderate">ì¤‘</button><button class="protocol-btn" data-intensity="high">ê³ </button></div></div><button class="btn-primary" onclick="addExercise()">ì¶”ê°€</button></div></div>
    <div class="modal" id="profileModal"><div class="modal-content"><div class="modal-header"><div class="modal-title">í”„ë¡œí•„ ì„¤ì •</div><button class="modal-close" onclick="closeModal('profileModal')">âœ•</button></div><div class="form-group"><label class="form-label">ì´ë¦„</label><input type="text" class="form-input" id="profileName" placeholder="ì´ë¦„"></div><div class="form-row"><div class="form-group"><label class="form-label">í‚¤ (cm)</label><input type="number" class="form-input" id="profileHeight" value="170"></div><div class="form-group"><label class="form-label">ì‹œì‘ ì²´ì¤‘</label><input type="number" class="form-input" id="profileStartWeight" value="78"></div></div><div class="form-row"><div class="form-group"><label class="form-label">ëª©í‘œ ì²´ì¤‘ (-6kg)</label><input type="number" class="form-input" id="profileTargetWeight" value="72"></div><div class="form-group"><label class="form-label">ì‹œì‘ì¼</label><input type="date" class="form-input" id="profileStartDate"></div></div><button class="btn-primary" onclick="saveProfile()">ì €ì¥</button><button class="btn-danger" onclick="resetData()">ë°ì´í„° ì´ˆê¸°í™”</button></div></div>

    <script>
    var profile=JSON.parse(localStorage.getItem('db_profile'))||{name:'',height:170,startWeight:78,targetWeight:72,startDate:new Date().toISOString().split('T')[0],fastingProtocol:'16:8'};
    var records=JSON.parse(localStorage.getItem('db_records'))||[];
    var todayMeals=[],todayExercises=[],currentIntensity='moderate',fastingActive=false,fastingStart=null,fastingInterval=null;

    document.addEventListener('DOMContentLoaded',function(){initTabs();initSubTabs();initProtocols();initIntensity();initWeightCalc();updateAll();setTodayDate()});

    function initTabs(){document.querySelectorAll('.nav-btn').forEach(function(b){b.addEventListener('click',function(){var t=this.getAttribute('data-tab');document.querySelectorAll('.nav-btn').forEach(function(x){x.classList.remove('active')});document.querySelectorAll('.tab-content').forEach(function(x){x.classList.remove('active')});this.classList.add('active');document.getElementById(t).classList.add('active')})})}

    function initSubTabs(){document.querySelectorAll('#recipeSubTabs .sub-tab').forEach(function(b){b.addEventListener('click',function(){var s=this.getAttribute('data-subtab');document.querySelectorAll('#recipeSubTabs .sub-tab').forEach(function(x){x.classList.remove('active')});document.querySelectorAll('.recipe-subtab').forEach(function(x){x.style.display='none'});this.classList.add('active');document.getElementById(s).style.display='block'})})}

    function initProtocols(){document.querySelectorAll('#protocolBtns .protocol-btn').forEach(function(b){if(b.getAttribute('data-protocol')===profile.fastingProtocol)b.classList.add('active');else b.classList.remove('active');b.addEventListener('click',function(){document.querySelectorAll('#protocolBtns .protocol-btn').forEach(function(x){x.classList.remove('active')});this.classList.add('active');profile.fastingProtocol=this.getAttribute('data-protocol');localStorage.setItem('db_profile',JSON.stringify(profile));updateFastingDisplay()})})}

    function initIntensity(){document.querySelectorAll('#intensityBtns .protocol-btn').forEach(function(b){b.addEventListener('click',function(){document.querySelectorAll('#intensityBtns .protocol-btn').forEach(function(x){x.classList.remove('active')});this.classList.add('active');currentIntensity=this.getAttribute('data-intensity')})})}

    function initWeightCalc(){document.getElementById('weightInput').addEventListener('input',function(){var w=parseFloat(this.value);document.getElementById('bmiDisplay').textContent=w&&profile.height?(w/Math.pow(profile.height/100,2)).toFixed(1):'--'})}

    function setTodayDate(){document.getElementById('todayDate').textContent=new Date().toLocaleDateString('ko-KR',{month:'long',day:'numeric',weekday:'long'})}

    function updateAll(){updateDashboard();updateHistory();updateFastingDisplay()}

    function updateDashboard(){var s=calcStats(),p=calcProgress();document.getElementById('progressPercent').textContent=p+'%';document.getElementById('progressFill').style.width=p+'%';document.getElementById('startDateDisplay').textContent=profile.startDate||'-';document.getElementById('daysTracked').textContent=records.length;var sw=profile.startWeight||78,tw=profile.targetWeight||72,cw=s.currentWeight||sw,wl=sw-cw,wg=sw-tw,wp=wg>0?Math.min(100,Math.round(wl/wg*100)):0;document.getElementById('weightLossPercent').textContent=wp+'%';document.getElementById('weightLossFill').style.width=wp+'%';document.getElementById('startWeightDisplay').textContent=sw;document.getElementById('currentWeightDisplay').textContent=cw||sw;document.getElementById('targetWeightDisplay').textContent=tw;if(s.hba1c>0){var e=document.getElementById('hba1cValue');e.textContent=s.hba1c.toFixed(1)+'%';e.className='stat-value '+(s.hba1c>6.5?'red':s.hba1c>5.7?'yellow':'green')}document.getElementById('streakValue').textContent=s.streak+'ì¼ ğŸ”¥';document.getElementById('totalDays').textContent=records.length;if(s.avgFasting>0){var e2=document.getElementById('avgFastingValue');e2.textContent=Math.round(s.avgFasting);e2.className='stat-value '+(s.avgFasting<100?'green':s.avgFasting<126?'yellow':'red')}var e3=document.getElementById('weightChangeValue');if(wl!==0){e3.textContent='-'+wl.toFixed(1)+'kg';e3.className='stat-value '+(wl>0?'green':'red')}else e3.textContent='--';updateChart();updateAdvice(s)}

    function calcStats(){var r=records.slice(-30);if(r.length===0)return{avgFasting:0,avgPost:0,hba1c:0,currentWeight:0,streak:0};var f=r.filter(function(x){return x.fastingGlucose>0}),p=r.filter(function(x){return x.postMealGlucose>0}),w=r.filter(function(x){return x.weight>0});var af=f.length?f.reduce(function(s,x){return s+x.fastingGlucose},0)/f.length:0,ap=p.length?p.reduce(function(s,x){return s+x.postMealGlucose},0)/p.length:0,avg=(af+ap)/2||af||ap,hba1c=avg>0?(avg+46.7)/28.7:0,cw=w.length?w[w.length-1].weight:0;var streak=0,today=new Date();today.setHours(0,0,0,0);for(var i=records.length-1;i>=0;i--){var d=new Date(records[i].date);d.setHours(0,0,0,0);if(Math.floor((today-d)/86400000)===streak)streak++;else break}return{avgFasting:af,avgPost:ap,hba1c:hba1c,currentWeight:cw,streak:streak}}

    function calcProgress(){if(!profile.startDate)return 0;return Math.min(100,Math.round(Math.floor((new Date()-new Date(profile.startDate))/86400000)/90*100))}

    function updateChart(){var c=document.getElementById('chartCard'),co=document.getElementById('chartContainer');if(records.length===0){c.style.display='none';return}c.style.display='block';co.innerHTML='';records.slice(-7).forEach(function(r){var g=document.createElement('div');g.className='chart-bar-group';var b=document.createElement('div');b.className='chart-bars';var f=document.createElement('div');f.className='chart-bar fasting';f.style.height=(r.fastingGlucose?r.fastingGlucose/200*90:0)+'px';var p=document.createElement('div');p.className='chart-bar postmeal';p.style.height=(r.postMealGlucose?r.postMealGlucose/200*90:0)+'px';b.appendChild(f);b.appendChild(p);var l=document.createElement('div');l.className='chart-label';var d=new Date(r.date);l.textContent=(d.getMonth()+1)+'/'+d.getDate();g.appendChild(b);g.appendChild(l);co.appendChild(g)})}

    function updateAdvice(s){var c=document.getElementById('adviceContainer'),h='';h+='<div class="advice info"><strong>[ë¶„ì„]</strong> ';if(s.avgFasting>0)h+='í‰ê·  ê³µë³µí˜ˆë‹¹ '+Math.round(s.avgFasting)+'mg/dL, ì¶”ì • HbA1c '+s.hba1c.toFixed(1)+'%';else h+='ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”';h+='</div>';if(s.avgFasting>126)h+='<div class="advice warning"><strong>[ì²˜ë°©]</strong> ê³µë³µ í˜ˆë‹¹ ë†’ìŒ! ì €ë… ì‹ì‚¬ëŸ‰ 30%â†“, ì·¨ì¹¨ 3ì‹œê°„ ì „ ê¸ˆì‹. ë‚´ì¼ ì¬ì¸¡ì •!</div>';else if(s.avgFasting>100)h+='<div class="advice caution"><strong>[ì²˜ë°©]</strong> ê²½ê³„ ìˆ˜ì¤€. ì €ë… íƒ„ìˆ˜í™”ë¬¼ ì ˆë°˜ìœ¼ë¡œ, ì‹í›„ 15ë¶„ ê±·ê¸° ì¶”ê°€.</div>';else if(s.avgFasting>0)h+='<div class="advice success"><strong>[ì²˜ë°©]</strong> í›Œë¥­í•©ë‹ˆë‹¤! í˜„ì¬ íŒ¨í„´ ìœ ì§€ + ê·¼ë ¥ìš´ë™ ì¶”ê°€ ê¶Œì¥.</div>';if(s.avgPost>180)h+='<div class="advice warning"><strong>[ê²½ê³ ]</strong> ì‹í›„ ìŠ¤íŒŒì´í¬! ë§¤ ì‹ì‚¬ í›„ 10ë¶„ ê±·ê¸° í•„ìˆ˜.</div>';if(s.streak>=3){var pr=s.hba1c-(s.streak*0.02);h+='<div class="advice success"><strong>[ì˜ˆì¸¡]</strong> '+s.streak+'ì¼ ì—°ì†! 3ê°œì›” í›„ HbA1c '+Math.max(5.5,pr).toFixed(1)+'% ê°€ëŠ¥ ğŸ¯</div>'}if(!s.avgFasting)h+='<div class="advice info"><strong>[ì‹œì‘]</strong> ì˜¤ëŠ˜ì˜ ê³µë³µ í˜ˆë‹¹ì„ ê¸°ë¡í•´ì£¼ì„¸ìš”!</div>';c.innerHTML=h}

    function updateHistory(){document.getElementById('historyCount').textContent=records.length;var c=document.getElementById('historyList');if(records.length===0){c.innerHTML='<div class="empty-state"><div class="empty-icon">ğŸ“­</div><p class="empty-text">ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤</p></div>';return}var h='';records.slice().reverse().forEach(function(r,i){var idx=records.length-1-i,d=new Date(r.date),ds=d.toLocaleDateString('ko-KR',{month:'short',day:'numeric',weekday:'short'});h+='<div class="record-item"><div class="record-header"><span class="record-date">'+ds+'</span><button class="record-delete" onclick="deleteRecord('+idx+')">ì‚­ì œ</button></div><div class="record-stats"><div class="record-stat"><div class="record-stat-label">ê³µë³µ</div><div class="record-stat-value '+(r.fastingGlucose<100?'green':r.fastingGlucose<126?'yellow':'red')+'">'+(r.fastingGlucose||'-')+'</div></div><div class="record-stat"><div class="record-stat-label">ì‹í›„</div><div class="record-stat-value '+(r.postMealGlucose<140?'green':r.postMealGlucose<180?'yellow':'red')+'">'+(r.postMealGlucose||'-')+'</div></div><div class="record-stat"><div class="record-stat-label">ì²´ì¤‘</div><div class="record-stat-value purple">'+(r.weight||'-')+'</div></div></div></div>'});c.innerHTML=h}

    function deleteRecord(i){if(confirm('ì‚­ì œ?')){records.splice(i,1);localStorage.setItem('db_records',JSON.stringify(records));updateAll()}}

    function updateFastingDisplay(){document.getElementById('protocolDisplay').textContent=profile.fastingProtocol+' í”„ë¡œí† ì½œ';var d={'14:10':'14ì‹œê°„ ë‹¨ì‹ (ì…ë¬¸)','16:8':'16ì‹œê°„ ë‹¨ì‹ (ê¶Œì¥)','18:6':'18ì‹œê°„ ë‹¨ì‹ (ê³ ê¸‰)'};document.getElementById('protocolDesc').textContent=d[profile.fastingProtocol]||d['16:8']}

    function toggleFasting(){var b=document.getElementById('fastingBtn');if(fastingActive){clearInterval(fastingInterval);fastingActive=false;b.textContent='â±ï¸ ë‹¨ì‹ ì‹œì‘í•˜ê¸°';b.className='btn-primary';document.getElementById('timerStatus').textContent='ëŒ€ê¸° ì¤‘';document.getElementById('timerRemaining').textContent='';document.getElementById('timerDisplay').textContent='00:00:00';document.getElementById('timerProgress').style.strokeDashoffset=691.15}else{fastingActive=true;fastingStart=Date.now();b.textContent='ğŸ½ï¸ ë‹¨ì‹ ì¢…ë£Œ';b.className='btn-primary btn-stop';document.getElementById('timerStatus').textContent='ë‹¨ì‹ ì¤‘';fastingInterval=setInterval(updateTimer,1000)}}

    function updateTimer(){var e=Math.floor((Date.now()-fastingStart)/1000);document.getElementById('timerDisplay').textContent=pad(Math.floor(e/3600))+':'+pad(Math.floor((e%3600)/60))+':'+pad(e%60);var t=getTarget(),p=Math.min(e/t,1);document.getElementById('timerProgress').style.strokeDashoffset=691.15*(1-p);var r=Math.max(0,t-e);document.getElementById('timerRemaining').textContent='ëª©í‘œê¹Œì§€ '+pad(Math.floor(r/3600))+':'+pad(Math.floor((r%3600)/60))+':'+pad(r%60)}

    function pad(n){return n<10?'0'+n:n}
    function getTarget(){var p=profile.fastingProtocol;return p==='14:10'?50400:p==='18:6'?64800:57600}

    function saveTodayRecord(){var t=new Date().toISOString().split('T')[0],r={date:t,fastingGlucose:parseFloat(document.getElementById('fastingInput').value)||0,postMealGlucose:parseFloat(document.getElementById('postMealInput').value)||0,weight:parseFloat(document.getElementById('weightInput').value)||0,meals:todayMeals.slice(),exercises:todayExercises.slice(),notes:document.getElementById('notesInput').value};var i=records.findIndex(function(x){return x.date===t});if(i>=0)records[i]=r;else records.push(r);localStorage.setItem('db_records',JSON.stringify(records));document.getElementById('fastingInput').value='';document.getElementById('postMealInput').value='';document.getElementById('weightInput').value='';document.getElementById('notesInput').value='';document.getElementById('bmiDisplay').textContent='--';todayMeals=[];todayExercises=[];updateMeals();updateExercises();updateAll();alert('âœ… ì €ì¥!')}

    function updateMeals(){var c=document.getElementById('mealsList');if(todayMeals.length===0){c.innerHTML='<p style="text-align:center;color:#64748b;padding:12px;font-size:13px">ê¸°ë¡ëœ ì‹ë‹¨ì´ ì—†ìŠµë‹ˆë‹¤</p>';return}c.innerHTML=todayMeals.map(function(m,i){return'<div class="list-item"><div><div class="list-item-name">'+m.name+'</div><div class="list-item-detail">'+(m.calories||'-')+'kcal Â· íƒ„ìˆ˜í™”ë¬¼ '+(m.carbs||'-')+'g</div></div><button class="list-item-delete" onclick="removeMeal('+i+')">âœ•</button></div>'}).join('')}

    function updateExercises(){var c=document.getElementById('exercisesList');if(todayExercises.length===0){c.innerHTML='<p style="text-align:center;color:#64748b;padding:12px;font-size:13px">ê¸°ë¡ëœ ìš´ë™ì´ ì—†ìŠµë‹ˆë‹¤</p>';return}var m={low:'ì €ê°•ë„',moderate:'ì¤‘ê°•ë„',high:'ê³ ê°•ë„'};c.innerHTML=todayExercises.map(function(e,i){return'<div class="list-item"><div><div class="list-item-name">'+e.type+'</div><div class="list-item-detail">'+e.duration+'ë¶„ Â· '+m[e.intensity]+'</div></div><button class="list-item-delete" onclick="removeExercise('+i+')">âœ•</button></div>'}).join('')}

    function addMeal(){var n=document.getElementById('mealName').value.trim();if(!n)return;todayMeals.push({name:n,calories:document.getElementById('mealCalories').value,carbs:document.getElementById('mealCarbs').value});document.getElementById('mealName').value='';document.getElementById('mealCalories').value='';document.getElementById('mealCarbs').value='';closeModal('mealModal');updateMeals()}
    function removeMeal(i){todayMeals.splice(i,1);updateMeals()}

    function addExercise(){var t=document.getElementById('exerciseType').value.trim();if(!t)return;todayExercises.push({type:t,duration:document.getElementById('exerciseDuration').value,intensity:currentIntensity});document.getElementById('exerciseType').value='';document.getElementById('exerciseDuration').value='';closeModal('exerciseModal');updateExercises()}
    function removeExercise(i){todayExercises.splice(i,1);updateExercises()}

    function openModal(id){document.getElementById(id).classList.add('active');if(id==='profileModal'){document.getElementById('profileName').value=profile.name||'';document.getElementById('profileHeight').value=profile.height||170;document.getElementById('profileStartWeight').value=profile.startWeight||78;document.getElementById('profileTargetWeight').value=profile.targetWeight||72;document.getElementById('profileStartDate').value=profile.startDate||''}}
    function closeModal(id){document.getElementById(id).classList.remove('active')}

    function saveProfile(){profile.name=document.getElementById('profileName').value;profile.height=parseFloat(document.getElementById('profileHeight').value)||170;profile.startWeight=parseFloat(document.getElementById('profileStartWeight').value)||78;profile.targetWeight=parseFloat(document.getElementById('profileTargetWeight').value)||72;profile.startDate=document.getElementById('profileStartDate').value;localStorage.setItem('db_profile',JSON.stringify(profile));closeModal('profileModal');updateAll()}

    function resetData(){if(confirm('ëª¨ë“  ë°ì´í„° ì‚­ì œ?')){localStorage.removeItem('db_profile');localStorage.removeItem('db_records');location.reload()}}
    </script>
</body>
</html>
